<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - E-Learning</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/custom.css"> <!-- CSS custom của bạn -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Nếu dùng chart -->
</head>
<body>
<!-- Navbar Admin -->
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="/admin">Admin E-Learning</a>
        <div class="ms-auto">
            <span class="text-white me-3">Chào Admin, <span th:text="${adminName}">Admin</span></span>
            <a href="/logout" class="btn btn-outline-light">Đăng Xuất</a>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar Menu -->
        <div class="col-md-3 sidebar p-4">
            <h4 class="text-white mb-4">Menu Quản Trị</h4>
            <ul class="list-group">
                <li class="list-group-item bg-transparent border-0"><a href="/admin/dashboard" class="text-white">Tổng Quan</a></li>
                <li class="list-group-item bg-transparent border-0"><a href="/admin/users" class="text-white">Quản Lý Người Dùng</a></li>
                <li class="list-group-item bg-transparent border-0"><a href="/admin/courses" class="text-white">Quản Lý Khóa Học</a></li>
                <li class="list-group-item bg-transparent border-0"><a href="/admin/reports" class="text-white">Báo Cáo & Thống Kê</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 p-5">
            <h2 class="mb-4">Tổng Quan Hệ Thống</h2>

            <!-- Cards Thống Kê -->
            <div class="row mb-5">
                <div class="col-md-3">
                    <div class="card text-white bg-primary">
                        <div class="card-body">
                            <h5>Tổng Người Dùng</h5>
                            <h3 th:text="${totalUsers}">1,234</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-success">
                        <div class="card-body">
                            <h5>Tổng Khóa Học</h5>
                            <h3 th:text="${totalCourses}">56</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-info">
                        <div class="card-body">
                            <h5>Tham Gia Hôm Nay</h5>
                            <h3 th:text="${todayEnrollments}">89</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-warning">
                        <div class="card-body">
                            <h5>Khóa Học Chờ Duyệt</h5>
                            <h3 th:text="${pendingCourses}">12</h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Table Quản Lý Người Dùng (ví dụ trang users) -->
            <div class="card mb-4">
                <div class="card-body">
                    <h4>Quản Lý Người Dùng Gần Đây</h4>
                    <table class="table table-hover">
                        <thead>
                        <tr><th>ID</th><th>Tên</th><th>Email</th><th>Vai Trò</th><th>Hành Động</th></tr>
                        </thead>
                        <tbody>
                        <tr th:each="user : ${recentUsers}">
                            <td th:text="${user.id}"></td>
                            <td th:text="${user.fullName}"></td>
                            <td th:text="${user.email}"></td>
                            <td><span class="badge bg-primary" th:text="${user.role}"></span></td>
                            <td>
                                <a href="#" class="btn btn-sm btn-primary">Sửa</a>
                                <a href="#" class="btn btn-sm btn-danger">Xóa</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Table Quản Lý Khóa Học -->
            <div class="card">
                <div class="card-body">
                    <h4>Khóa Học Chờ Duyệt</h4>
                    <table class="table table-hover">
                        <thead>
                        <tr><th>Tiêu Đề</th><th>Giảng Viên</th><th>Ngày Tạo</th><th>Hành Động</th></tr>
                        </thead>
                        <tbody>
                        <tr th:each="course : ${pendingCoursesList}">
                            <td th:text="${course.title}"></td>
                            <td th:text="${course.instructorName}"></td>
                            <td th:text="${#dates.format(course.createdDate, 'dd/MM/yyyy')}"></td>
                            <td>
                                <a href="#" class="btn btn-sm btn-success">Duyệt</a>
                                <a href="#" class="btn btn-sm btn-secondary">Từ Chối</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Biểu đồ (tùy chọn) -->
            <!-- <canvas id="statsChart" height="200"></canvas> -->
        </div>
    </div>
</div>
</body>
</html>